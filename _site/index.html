<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Latest Posts &#8211; Distributed Systems Software Engineer</title>
<meta name="description" content="Describe this nonsense.">
<meta name="keywords" content="Jekyll, theme, themes, responsive, blog, modern">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="/images/blue_tech.jpg">

<meta name="twitter:title" content="Latest Posts">
<meta name="twitter:description" content="Describe this nonsense.">
<meta name="twitter:creator" content="@alorlea">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Latest Posts">
<meta property="og:description" content="Describe this nonsense.">
<meta property="og:url" content="/">
<meta property="og:site_name" content="Distributed Systems Software Engineer">





<link rel="canonical" href="/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Distributed Systems Software Engineer Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">




<style type="text/css">body {background-image:url(/images/gplaypattern2X.png);}</style>


</head>

<body id="post-index" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="/">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/alberto.png" alt="Alberto Lorente Leal photo" class="author-photo">
					<h4>Alberto Lorente Leal</h4>
					<p>Software engineer majored in telecommunications & distributed computing. High performance? Availability? You name it! Actively working for iZettle and IEEE volunteer in Sweden</p>
				</li>
				<li>
					<a href="mailto:a.lorenteleal@gmail.com"><i class="fa fa-fw fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/alorlea"><i class="fa fa-fw fa-twitter"></i> Twitter</a>
				</li>
				
				
				<li>
					<a href="http://linkedin.com/in/alorlea"><i class="fa fa-fw fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/alorlea"><i class="fa fa-fw fa-github"></i> GitHub</a>
				</li>
				
				
				
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">All Posts</a></li>
				<li><a href="/tags/">All Tags</a></li>
			</ul>
		</li>
		
	    
	    <li><a href="/curriculum-vitae/" >Curriculum Vitae</a></li>
	  
	    
	    <li><a href="/ieee/" >IEEE volunteering</a></li>
	  
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->


<div class="entry-header">
  <div class="image-credit">Image source: <a href="http://imgkid.com/blue-tech-background.shtml">imgkid</a></div><!-- /.image-credit -->
  
    <div class="entry-image">
      <img src="/images/blue_tech.jpg" alt="Latest Posts">
    </div><!-- /.entry-image -->
  
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Distributed Systems Software Engineer</h1>
      <h2>Latest Posts</h2>
    </div><!-- /.header-title-wrap -->
  </div><!-- /.header-title -->
</div><!-- /.entry-header -->

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2016-04-10T18:26:30+02:00"><a href="/open-source/openstack-cluster-orchestration-with-karamel/">April 10, 2016</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Alberto Lorente Leal">Alberto Lorente Leal</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~4 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/open-source/openstack-cluster-orchestration-with-karamel/" rel="bookmark" title="Apache Hadoop & Flink automation in OpenStack with Karamel" itemprop="url">Apache Hadoop & Flink automation in OpenStack with Karamel</a></h1>
    
  </header>
  <div class="entry-content">
    <p>This is a special post as it remarks my first contribution to a small open-source project and also to my ex-colleagues 
during my brief time at <a href="https://www.sics.se/">SICS</a>.</p>

<p>This project is called <a href="http://www.karamel.io/">Karamel</a>. Karamel is 
a tool that simplifies big data deployments on a selection of cloud providers like AWS and Google Cloud Engine, 
in addition to baremetal cluster setups. It is quite easy to get started, you simply need to define your cluster in a 
file, submit it to the application and do one click!</p>

<p>With this tool you can easily have al big data cluster up and running in 
a few clicks which will have preinstalled hadoop , Apache Flink or even Apache Spark.
In addition, it is the preferred tool for testing out a new hadoop distribution named <a href="http://www.hops.io/">Hops</a> 
which try to address the challenges and issues you could face when you work with very large scale hadoop clusters (for 
example, how to achieve <a href="http://www.hops.io/?q=content/hdfs">high availability of the namenode</a>)</p>

<h1 id="deploying-clusters-with-karamel">Deploying Clusters with Karamel</h1>

<p>In the rest of this article, I will describe the process of creating a simple cluster running apache Flink in order to 
make a deployment using Karamel towards an Openstack environment. We will also go over how you can write a cluster file
 to be deployed using this tool and how you need to configure the Karamel in order to communicate with your cluster.</p>

<h2 id="before-we-start">Before we start</h2>

<p>In order to deploy our Hadoop cluster on Openstack, first we will need to get a copy of the latest version of 
Karamel, you can do it <a href="http://www.karamel.io/?q=content/getting-started-karamel">here</a>. Here you will find 
guidelines to get started with other providers like AWS. You may download one of the available versions that have 
support for Openstack (version 0.2.0 onwards should do it) or download the source code and build the application with
 maven.</p>

<h1 id="working-with-karamel">Working with Karamel</h1>

<p>Getting started with Karamel is quite easy, before launching our cluster, we will need to define the configuration of a
cluster. In a cluster definition file, we can identify 4 core elements to describe you cluster: <strong><em>Provider</em></strong>, 
<strong><em>Cookbooks</em></strong>, <strong><em>Attributes</em></strong> and <strong><em>Groups</em></strong>.</p>

<p>In order to understand the role of each core component, we will go through a simple example cluster, let’s imagine 
that I want to deploy a simple Hadoop cluster with Apache Flink running a namenode and 20 datanodes using an 
Openstack Infrastructure.</p>

<p>So how can I express this information in Karamel? In addition, if we want to deploy a 
wordcount job when the cluster is ready, how can we achieve this? How can Karamel allow us to express this business 
needs? This is how you would do it, as shown on the following file:</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">name</span><span class="pi">:</span> <span class="s">flinknova</span>
<span class="s">nova</span><span class="pi">:</span>
  <span class="s">flavor</span><span class="pi">:</span> <span class="s">3</span>
  <span class="s">image</span><span class="pi">:</span> <span class="s2">"</span><span class="s">99f4625e-f425-472d-8e21-7aa9c3db1c3e"</span>

<span class="s">cookbooks</span><span class="pi">:</span>
  <span class="s">hadoop</span><span class="pi">:</span>
    <span class="s">github</span><span class="pi">:</span> <span class="s2">"</span><span class="s">hopshadoop/apache-hadoop-chef"</span>
    <span class="s">branch</span><span class="pi">:</span> <span class="s2">"</span><span class="s">master"</span>
  <span class="s">flink</span><span class="pi">:</span>
    <span class="s">github</span><span class="pi">:</span> <span class="s2">"</span><span class="s">hopshadoop/flink-chef"</span>
    <span class="s">branch</span><span class="pi">:</span> <span class="s2">"</span><span class="s">master"</span>

<span class="s">groups</span><span class="pi">:</span>
  <span class="s">namenodes</span><span class="pi">:</span>
    <span class="s">size</span><span class="pi">:</span> <span class="s">1</span>
    <span class="s">recipes</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">hadoop::nn</span>
        <span class="pi">-</span> <span class="s">flink::jobmanager</span>
        <span class="pi">-</span> <span class="s">flink::wordcount</span>
  <span class="s">datanodes</span><span class="pi">:</span>
    <span class="s">size</span><span class="pi">:</span> <span class="s">20</span>
    <span class="s">recipes</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s">hadoop::dn</span>
        <span class="pi">-</span> <span class="s">flink::taskmanager</span>
        </code></pre></figure>

<p>In this cluster, we can see 3 different code blocks gathering all the information we need for Karamel to satisfy our 
cluster needs.</p>

<h2 id="provider">Provider</h2>

<p>The first segment of the file contains the provider specific information, for Openstack; we make use of the
  keyword nova in order to tell Karamel that this is an Openstack cluster and we are going to make use of the Openstack 
  Nova Controller.</p>

<p>After the keyword nova, it follows key parameters that Openstack will make use to deplou the necessary resources to
   run our software on.</p>

<ul>
  <li>
    <p><strong>Flavor:</strong> This corresponds to a specific hardware configuration for the VM, this is similar to Amazon’s EC2 
  instance descriptors. Openstack refers to them as flavors and each one specifies a configuration (CPU, RAM) and are
   not the same for everyone, as these are configured by the needs of the organization. To simplify this, Karamel makes
use of the flavor id attached to your VM configuration.</p>
  </li>
  <li>
    <p><strong>Image:</strong> This corresponds to the VM image you want to launch stored in your Openstack system. In this case, we 
  make use of the generated ID when you store your image in your Openstack project.</p>
  </li>
</ul>

<h2 id="cookbooks">Cookbooks</h2>

<p>The following code block, gathers the software that we will want to install on our nodes. For this purpose, 
  Karamel makes use of Chef Cookbooks that get will be processed on the nodes by running Chef Solo. To simplify the 
  transfer of the Cookbooks, they should be accessible by the application through Git so it can clone them and 
  execute the recipes on the nodes.</p>

<p>For this example, we want to install Apache Hadoop and Apache Flink so we indicate this Karamel by the keyword 
  Cookbook and specifying the repositories where our Cookbooks are stored plus the branch we want to checkout.</p>

<h2 id="groups">Groups</h2>

<p>Under the groups sections, we define the cluster structure around groups 
of components and services. Here, we specify the number of nodes and the
recipes that will install the services to run on those nodes.</p>

<h1 id="summary">Summary</h1>

<p>In this, blog post we went over roughly how Karamel now has support to deploy
clusters in Openstack based infrastructures. This gives you the opportunity
to play with hadoop, flink or spark directly in your private cloud reducing the
time you need to configure a whole cluster.</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-08-13T14:05:10+02:00"><a href="/posts/developing-applications-with-docker/">August 13, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Alberto Lorente Leal">Alberto Lorente Leal</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/posts/developing-applications-with-docker/" rel="bookmark" title="Developing Applications With Docker" itemprop="url">Developing Applications With Docker</a></h1>
    
  </header>
  <div class="entry-content">
    <p>Recently, I had the opportunity to get my hands dirty playing with docker containers in my workplace with the purpose of
containerazing our applications and increase our velocity when deploying running software into our hardware. I have been
focusing on how to simplify handling a distributed applications deployment where different services 
(Frontend services, Backend Services and Data services) need to interact in isolated and repeatable environments.</p>

<p>So far the experience has been quite promising on how easy it is to create a container, if we compare it to building for 
example a simple AMI (Amazon Image) in Amazon Web Services where it involves running Amazon EC2 tools in the Virtual 
Machine we want to create the image from.</p>

<p>In this post, I will go over the process of working with docker in your local machine.</p>

<h2 id="what-is-docker">What is Docker?</h2>

<p>Docker is a virtualization technology that focuses on the simple premise of allowing developers and devops to package their
applications and dependencies in a medium which allows easier portability among different machines &amp; environments while 
maintaining a high level of flexibility.</p>

<p>We can tend to think, that docker containers are like normal virtual machines, yet in reality they are more light weight
compared to normal vms, as it fine tunes the resources available in the virtualized instance by removing guest OS dependencies
and the need of using of a hypervisor, which in involves in an extra overhead to deal with.</p>

<p>So containers deployed in the same machine, tend to share external resources provided by the host OS where docker is 
running like the kernels OS, filesystem and disk usage.</p>

<h2 id="why-is-it-becoming-so-popular">Why is it becoming so popular?</h2>

<p>One thing that I believe, docker is doing great is to focus on isolation and keep the behaviour identical of your application
along multiple phases environments.</p>

<p>Once you create your docker image and deploy it in a container, it will behave the same in your testing, staging and 
production environments like virtual machines, yet allowing faster deployments. For example, if we take a full ubuntu 
VM; it size will be more than 650MBs at least with everything configured and our application embedded in it. 
Taking the docker case, its footprint will be around the same size as if we wanted to deploy the builded package itself.</p>

<p>In addition, it has its own version control of the docker images, allowing incremental updates of its content 
(similarly to a version control like git); which help to keep track of the versions of your applications.</p>

<h2 id="getting-started-with-docker">Getting started with docker</h2>

<p>It is quite simple to get started with docker and begin creating containers, if you use Intellij Idea you can use a 
quite nice <a href="http://blog.jetbrains.com/idea/2015/03/docker-support-in-intellij-idea-14-1/">plugin</a>.</p>

<p>You can start creating docker images easily by bundling it up with a dockerfile. This file acts like a script which 
docker follows and will generate the image for your docker container.</p>

<p>We will see that in a following post, where I will try to go over how docker works with a working example.</p>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="/posts/welcome-to-my-new-page/" title="Welcome to My New Page!"><img src="/images/abstract-6.jpg" alt="Welcome to My New Page!"></a>
      </div><!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2015-07-22T11:13:39+02:00"><a href="/posts/welcome-to-my-new-page/">July 22, 2015</a></time></span><span class="author vcard"><span class="fn"><a href="/about/" title="About Alberto Lorente Leal">Alberto Lorente Leal</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div><!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="/posts/welcome-to-my-new-page/" rel="bookmark" title="Welcome to My New Page!" itemprop="url">Welcome to My New Page!</a></h1>
    
  </header>
  <div class="entry-content">
    <p>I was always quite keen in finding something more personalizable and that could support better my needs as a software 
engineer and tech interests. I had an initial try with my old site in wordpress where I tried to create something 
personal, but still I never got satisfied with how wordpress handled things.</p>

<p>Luckily, been an active user of github, I was surprised with their support for personal sites with github pages. In that
sense, I was curious to what it could offer and I already saw that you can have some nice things going on with jekyll 
and ruby.</p>

<p>So this is my second try to create a personal site, hopefully thanks to this nice theme for jekyll; I will be able to 
satisfy all my needs on customization and giving the site a personal touch I always wanted. Of course, I am not a great 
frontend guru (I have deeper background in backend/distributed systems) but I really like how this jekyll theme works.</p>

<p>Hopefully, this second try on my personal site, will be more rewarding than the first one I made. I will try to migrate 
some material from back there.</p>

<div about="https://mademistakes.com/work/hpstr-jekyll-theme/" class="notice">Github pages HPSTR theme from 
<span property="dct:title">MadeMistakes</span> (<a rel="cc:attributionURL" property="cc:attributionName" href="https://mademistakes.com/work/hpstr-jekyll-theme/">Mademistakes</a>)</div>

<div xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/" about="http://subtlepatterns.com" class="notice">Background images from 
<span property="dct:title">Subtle Patterns</span> (<a rel="cc:attributionURL" property="cc:attributionName" href="http://subtlepatterns.com">Subtle Patterns</a>) / <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">CC BY-SA 3.0</a></div>

  </div><!-- /.entry-content -->
</article><!-- /.hentry -->


<div class="pagination">
  
    Previous
  
  <ul class="inline-list">
    <li>
      
        <span class="current-page">1</span>
      
    </li>
    
      <li>
        
          <a href="/page2">2</a>
        
      </li>
    
      <li>
        
          <a href="/page3">3</a>
        
      </li>
    
  </ul>
  
    <a href="/page2" class="btn">Next</a>
  
</div><!-- /.pagination -->
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2016 Alberto Lorente Leal. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="https://mademistakes.com/work/hpstr-jekyll-theme/" rel="nofollow">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="/assets/js/scripts.min.js"></script>


<!-- Asynchronous Google Analytics snippet -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-75885533-1', 'auto');  
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script>


          

</body>
</html>